# SeSac Image ë°˜ì˜ì•ˆë˜ëŠ” ë¬¸ì œ
- ë²„íŠ¼ì„ ëˆ„ë¥¼ ë•Œ ë§ˆë‹¤ ì–´ë…¸í…Œì´ì…˜ ì´ë¯¸ì§€ê°€ ëª¨ë‘ ê°™ì€ ì´ë¯¸ì§€ë¡œë§Œ ë“¤ì–´ê°€ê³  ìˆë‹¤.
```swift
func setFriendSesacImage(imgaeNumber: Int) -> String {
        print("ImageNumber:", imgaeNumber)
        switch imgaeNumber {
        case 1:
            return SesacIcon.face1.rawValue
        case 2:
            return SesacIcon.face2.rawValue
        case 3:
            return SesacIcon.face3.rawValue
        case 4:
            return  SesacIcon.face4.rawValue
        default:
            return SesacIcon.face0.rawValue
        }
    }
```
í˜¹ì‹œ ì˜µì…”ë„ ê°’ì´ í•´ì œë˜ì§€ ì•Šì€ ì±„ ë“¤ì–´ê°€ê³  ìˆëŠ” ê²ƒì€ ì•„ë‹ê¹Œ? ì‹¶ì—ˆì§€ë§Œ, ì œëŒ€ë¡œ ë“¤ì–´ê°€ê³  ìˆìŒ.

![image](https://user-images.githubusercontent.com/53874628/153750973-82a3135a-b94c-44b8-9d41-0cad5bfc582f.png)
addAnnotation()ì—ì„œ ë“¤ì–´ê°€ê³  ìˆëŠ” ì´ë¯¸ì§€ë¥¼ í™•ì¸í•´ë³´ë‹ˆ, ê°€ì¥ ë§ˆì§€ë§‰ì— ì¶”ê°€ëœ ìœ ì €ì˜ ìƒˆì‹¹ ì´ë¯¸ì§€ê°€ ë“¤ì–´ê°€ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆì—ˆë‹¤.

í•´ê²°ë°©ë²•ì€, ìƒˆë¡œìš´ ì»¤ìŠ¤í…€ ì–´ë…¸í…Œì´ì…˜ì„ ë§Œë“¤ì–´ì„œ, ë°”ë¡œ ë“±ë¡í•´ì£¼ëŠ” ê²ƒì´ë‹¤.
ğŸ”– https://stackoverflow.com/questions/25631410/swift-different-images-for-annotation

```swift
import Foundation
import MapKit

class CustomPointAnnotation: NSObject, MKAnnotation {
    static let identifier = "CustomPointAnnotation"
    
    var coordinate: CLLocationCoordinate2D
    var imageName: String
    
    init(coordinate: CLLocationCoordinate2D, imageName: String) {
        self.coordinate = coordinate
        self.imageName = imageName
    }
}
```
ìœ„ì™€ ê°™ì´ ì»¤ìŠ¤í…€ ì–´ë…¸í…Œì´ì…˜ì„ ë§Œë“¤ê³ , annotationì´ ë“±ë¡ë  ë•Œ, ì»¤ìŠ¤í…€ ì–´ë…¸í…Œì´ì…˜ì˜ `imageName`ì„ ì°¸ì¡°í•˜ê²Œ í•˜ëŠ” ë°©ì‹ì´ë‹¤.

```swift
private func addAnnotation(friends: [Friend?]) {
        print(#function)
        
        for friend in friends {
            let userLocation = CLLocationCoordinate2D(latitude: friend?.lat ?? defaultCoordinate.latitude, longitude: friend?.long ?? defaultCoordinate.longitude)
            let userSesacImageName = viewModel.setFriendSesacImage(imgaeNumber: friend!.sesac)
            let annotation = CustomPointAnnotation(coordinate: userLocation, imageName: userSesacImageName)
            mapView?.addAnnotation(annotation)
        }
    }
```
ê° ìœ ì €ì˜ ì •ë³´ë¥¼ ë°›ì•„ì˜¤ë©´ì„œ, ìœ ì €ì˜ ìœ„ì¹˜ì™€ ì´ë¯¸ì§€ ì •ë³´ë¥¼ ê°€ì§„ ì»¤ìŠ¤í…€ ì–´ë…¸í…Œì´ì…˜ì„ ë§Œë“¤ê³ , ë“±ë¡í•´ì¤€ë‹¤.

```swift
func mapView(_ mapView: MKMapView, viewFor annotation: MKAnnotation) -> MKAnnotationView? {
        
        guard !annotation.isKind(of: MKUserLocation.self) else {
            return nil
        }
        
        var annotationView = mapView.dequeueReusableAnnotationView(withIdentifier: CustomPointAnnotation.identifier)
        
        if annotationView == nil {
            annotationView = MKAnnotationView(annotation: annotation, reuseIdentifier: CustomPointAnnotation.identifier)
            annotationView?.canShowCallout = false
        } else {
            annotationView?.annotation = annotation
        }
        
        let pin = annotation as? CustomPointAnnotation
        annotationView?.image = UIImage(named: pin!.imageName)
        return annotationView
    }
```

ê·¸ë¦¬ê³  `viewFor annotation`ì—ì„œ, ì»´ìŠ¤í…€ ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•œë‹¤ê³  ë§í•´ì£¼ë©´ ëœë‹¤.

<img src="https://user-images.githubusercontent.com/53874628/153752989-e87ba2b2-5a94-4567-adb6-b914f4f002e0.PNG"  width="200" height="400"/>
ì´ì œ ìœ ì €ì˜ ì„¤ì •ì— ë”°ë¼, ì•Œë§ì€ ì´ë¯¸ì§€ë¡œ í‘œì‹œê°€ ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

